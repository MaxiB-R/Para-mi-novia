<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Una carta desde el corazÃ³n â¤ï¸</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="music-player">
        <audio id="background-music" autoplay loop>
            <source src="../MP3/Iframe Goated - Star Shopping (Instrumental) [9YFZhsPdO5s].mp3" type="audio/mpeg">
            Tu navegador no soporta el elemento de audio.
        </audio>
        <div id="music-controls" class="music-controls">
            <button id="playPauseBtn" class="play-pause-btn">
                <span class="play-icon">â–¶ï¸</span>
                <span class="pause-icon">â¸ï¸</span>
            </button>
            <p class="music-status">Haz clic aquÃ­ para iniciar la mÃºsica</p>
        </div>
        <div class="music-label">ğŸŒ™ Star Shopping (Instrumental) ğŸŒŸ</div>
    </div>

    <div class="stars"></div>
    <div class="card">
        <div class="night-sky">
            <div class="shooting-star"></div>
            <div class="moon"></div>
            <div class="city-silhouette"></div>
        </div>
        <div class="message">
            <h1>âœ¨ Mi Estrella âœ¨</h1>
            <p class="main-text">
                En esta noche estrellada, mi corazÃ³n late al ritmo de esta melodÃ­a mientras pienso en ti... ğŸŒ™
            </p>
            <div class="letter">
                <p>
                    Como las estrellas que brillan en el cielo nocturno,<br>
                    asÃ­ brillas tÃº en mi vida.<br>
                    En cada nota de esta canciÃ³n,<br>
                    encuentro un pedacito de nuestros momentos juntos.<br><br>
                    
                    No quiero verte triste,<br>
                    porque tu sonrisa es como una estrella fugaz<br>
                    que ilumina mi universo entero. â­
                </p>
            </div>
            <div class="floating-hearts">
                ğŸ’« ğŸŒ™ â­ ğŸ’œ âœ¨
            </div>
            <p class="signature">Con amor infinito, entre estrellas y melodÃ­as ğŸ’«</p>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const audio = document.getElementById('background-music');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const musicStatus = document.querySelector('.music-status');
        const musicControls = document.getElementById('music-controls');

        // FunciÃ³n para iniciar la mÃºsica
        function playMusic() {
            let playPromise = audio.play();
            
            if (playPromise !== undefined) {
                playPromise.then(() => {
                    playPauseBtn.classList.remove('paused');
                    musicStatus.textContent = 'MÃºsica reproduciÃ©ndose...';
                }).catch(error => {
                    console.log("Autoplay prevented:", error);
                    playPauseBtn.classList.add('paused');
                    musicStatus.textContent = 'Haz clic para reproducir';
                });
            }
        }

        // Intenta reproducir automÃ¡ticamente
        playMusic();

        // Manejo del botÃ³n de reproducciÃ³n/pausa
        playPauseBtn.addEventListener('click', function() {
            if (audio.paused) {
                playMusic();
            } else {
                audio.pause();
                playPauseBtn.classList.add('paused');
                musicStatus.textContent = 'MÃºsica pausada';
            }
        });

        // Intenta reproducir cuando el usuario interactÃºa con la pÃ¡gina
        document.body.addEventListener('click', function() {
            if (audio.paused) {
                playMusic();
            }
        }, { once: true });

        // Manejar cuando la mÃºsica termina
        audio.addEventListener('ended', function() {
            playPauseBtn.classList.add('paused');
            musicStatus.textContent = 'MÃºsica terminada';
        });

        // Manejar cuando la mÃºsica estÃ¡ reproduciÃ©ndose
        audio.addEventListener('playing', function() {
            playPauseBtn.classList.remove('paused');
            musicStatus.textContent = 'MÃºsica reproduciÃ©ndose...';
        });

        // Manejar cuando la mÃºsica estÃ¡ pausada
        audio.addEventListener('pause', function() {
            playPauseBtn.classList.add('paused');
            musicStatus.textContent = 'MÃºsica pausada';
        });
    });
    </script>
</body>
</html>
