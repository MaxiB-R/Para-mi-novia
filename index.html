<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Una carta desde el corazón ❤️</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="music-player">
        <audio id="background-music" autoplay loop>
            <source src="../MP3/Iframe Goated - Star Shopping (Instrumental) [9YFZhsPdO5s].mp3" type="audio/mpeg">
            Tu navegador no soporta el elemento de audio.
        </audio>
        <div id="music-controls" class="music-controls">
            <button id="playPauseBtn" class="play-pause-btn">
                <span class="play-icon">▶️</span>
                <span class="pause-icon">⏸️</span>
            </button>
            <p class="music-status">Haz clic aquí para iniciar la música</p>
        </div>
        <div class="music-label">🌙 Star Shopping (Instrumental) 🌟</div>
    </div>

    <div class="stars"></div>
    <div class="card">
        <div class="night-sky">
            <div class="shooting-star"></div>
            <div class="moon"></div>
            <div class="city-silhouette"></div>
        </div>
        <div class="message">
            <h1>✨ Mi Estrella ✨</h1>
            <p class="main-text">
                En esta noche estrellada, mi corazón late al ritmo de esta melodía mientras pienso en ti... 🌙
            </p>
            <div class="letter">
                <p>
                    Como las estrellas que brillan en el cielo nocturno,<br>
                    así brillas tú en mi vida.<br>
                    En cada nota de esta canción,<br>
                    encuentro un pedacito de nuestros momentos juntos.<br><br>
                    
                    No quiero verte triste,<br>
                    porque tu sonrisa es como una estrella fugaz<br>
                    que ilumina mi universo entero. ⭐
                </p>
            </div>
            <div class="floating-hearts">
                💫 🌙 ⭐ 💜 ✨
            </div>
            <p class="signature">Con amor infinito, entre estrellas y melodías 💫</p>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const audio = document.getElementById('background-music');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const musicStatus = document.querySelector('.music-status');
        const musicControls = document.getElementById('music-controls');

        // Función para iniciar la música
        function playMusic() {
            let playPromise = audio.play();
            
            if (playPromise !== undefined) {
                playPromise.then(() => {
                    playPauseBtn.classList.remove('paused');
                    musicStatus.textContent = 'Música reproduciéndose...';
                }).catch(error => {
                    console.log("Autoplay prevented:", error);
                    playPauseBtn.classList.add('paused');
                    musicStatus.textContent = 'Haz clic para reproducir';
                });
            }
        }

        // Intenta reproducir automáticamente
        playMusic();

        // Manejo del botón de reproducción/pausa
        playPauseBtn.addEventListener('click', function() {
            if (audio.paused) {
                playMusic();
            } else {
                audio.pause();
                playPauseBtn.classList.add('paused');
                musicStatus.textContent = 'Música pausada';
            }
        });

        // Intenta reproducir cuando el usuario interactúa con la página
        document.body.addEventListener('click', function() {
            if (audio.paused) {
                playMusic();
            }
        }, { once: true });

        // Manejar cuando la música termina
        audio.addEventListener('ended', function() {
            playPauseBtn.classList.add('paused');
            musicStatus.textContent = 'Música terminada';
        });

        // Manejar cuando la música está reproduciéndose
        audio.addEventListener('playing', function() {
            playPauseBtn.classList.remove('paused');
            musicStatus.textContent = 'Música reproduciéndose...';
        });

        // Manejar cuando la música está pausada
        audio.addEventListener('pause', function() {
            playPauseBtn.classList.add('paused');
            musicStatus.textContent = 'Música pausada';
        });
    });
    </script>
</body>
</html>
